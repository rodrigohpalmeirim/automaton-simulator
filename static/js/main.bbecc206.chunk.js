(this["webpackJsonpautomaton-simulator"]=this["webpackJsonpautomaton-simulator"]||[]).push([[0],{14:function(e,t,n){e.exports=n(26)},19:function(e,t,n){},25:function(e,t,n){},26:function(e,t,n){"use strict";n.r(t);var o,c=n(0),d=n.n(c),a=n(8),r=n.n(a),u=(n(19),n(9)),m=n(10),i=n(12),s=n(11),l=n(4),p=n(13),h=n(2),g=n(3);n(25);function w(e){if(document.nodes[document.selectedNodeId].connections.temp={node:e,newChar:"",move:"S",arrowCurve:0},document.selectedNodeId!==e){for(var t in document.nodes[e].connections)if(document.nodes[e].connections[t].node===document.selectedNodeId){if(Math.abs(document.nodes[e].connections[t].arrowCurve)<25){var n=Math.abs(25-document.nodes[e].connections[t].arrowCurve);for(var o in document.nodes[e].connections)document.nodes[e].connections[o].node===document.selectedNodeId&&document.nodes[e].connections[o].arrowCurve>-25&&(document.nodes[e].connections[o].arrowCurve+=n)}document.nodes[document.selectedNodeId].connections.temp.arrowCurve=25}for(var c in document.nodes[document.selectedNodeId].connections)"temp"!==c&&document.nodes[document.selectedNodeId].connections[c].node===e&&document.nodes[document.selectedNodeId].connections[c].arrowCurve>=0&&(document.nodes[document.selectedNodeId].connections[c].arrowCurve+=50)}else for(var d in document.nodes[e].connections)document.nodes[e].connections[d].node===document.selectedNodeId&&"temp"!==d&&(document.nodes[e].connections[d].arrowCurve=Math.max(document.nodes[e].connections[d].arrowCurve+20,125));f(document.selectedNodeId,"temp")}function f(e,t){document.editingConnection=!0,document.editingConnection={node:e,char:t},document.update()}function v(){var e=document.getElementsByClassName("connection-input")[0].value,t=document.getElementsByClassName("connection-input")[1].value,n=document.getElementsByClassName("connection-input")[2].value;if(["L","R","S"].includes(n)&&!Object.keys(document.nodes[document.editingConnection.node].connections).filter((function(e){return e!==document.editingConnection.char})).includes(e)){var o=document.nodes[document.editingConnection.node].connections[document.editingConnection.char].node,c=document.nodes[document.editingConnection.node].connections[document.editingConnection.char].arrowCurve;return delete document.nodes[document.editingConnection.node].connections[document.editingConnection.char],document.nodes[document.editingConnection.node].connections[e]={node:o,newChar:t,move:n,arrowCurve:c},document.tempNode="",!0}return!1}function y(){for(var e in document.nodes)delete document.nodes[e].connections.temp;document.editingConnection=!1,delete document.nodes[document.tempNode],document.update()}function C(e,t){delete document.nodes[e].connections[t]}function E(e,t,n,o,c,a,r){var u=arguments.length>7&&void 0!==arguments[7]?arguments[7]:0,m=arguments.length>8&&void 0!==arguments[8]?arguments[8]:"",i=a-o,s=r-c,l=Math.sqrt(Math.pow(i,2)+Math.pow(s,2)),p=t?document.nodes[t].connections[n].arrowCurve:0;if(l>document.nodeRadius||t&&document.nodes[t].connections[n].node!==t){l<150&&Math.abs(p)<Math.min(150-l,50)&&(p=Math.min(150-l,50)*(p?Math.sign(p):1));var h=o+i/2+s/l*p*1.9,g=c+s/2-i/l*p*1.9,w=o-h,v=c-g,y=Math.sqrt(Math.pow(w,2)+Math.pow(v,2)),C=a-h,E=r-g,b=Math.sqrt(Math.pow(C,2)+Math.pow(E,2)),N=o-30*w/y,I=c-30*v/y,k=a-C*(u+14)/b,S=r-E*(u+14)/b;return document.selectedNodeId===t&&document.selectedConnectionChar===n&&(document.arrowCenter={x:((N+k)/2+h)/2,y:((I+S)/2+g)/2}),d.a.createElement("g",{key:e,type:"arrow",onMouseDown:function(){document.selectedNodeId=t,document.selectedConnectionChar=n}},d.a.createElement("path",{d:"M "+N+" "+I+" Q "+h+" "+g+" "+k+" "+S,style:{stroke:"#88C0D0",strokeWidth:5,pointerEvents:"none"},fill:"transparent"}),d.a.createElement("polygon",{points:a-C*u/b+","+(r-E*u/b)+" "+(a-C*(u+15)/b-10*E/b)+","+(r-E*(u+15)/b+10*C/b)+" "+(a-C*(u+15)/b+10*E/b)+","+(r-E*(u+15)/b-10*C/b),fill:"#88C0D0"}),m&&d.a.createElement("g",{type:"arrow",onDoubleClick:function(){f(t,n)},onMouseDown:function(e){0===e.button&&document.addEventListener("mousemove",x)}},d.a.createElement("rect",{x:((N+k)/2+h)/2-27,y:((I+S)/2+g)/2-10,height:"20",width:"54",rx:"5",ry:"5",fill:"#88C0D0"}),d.a.createElement("text",{x:((N+k)/2+h)/2-23,y:((I+S)/2+g)/2+5,fontSize:"15",fontFamily:"mononokiRegular",fill:"#2E3440",xmlSpace:"preserve"},m)))}var H,P,M,j=o-30,D=o+30;return a=o+20,o-=22,p<70?(H=1,P=c-70+1.35*(p=Math.min(p,0)),M=c-70+1.35*p,c=r=c-25):(H=-1,P=c-100+1.35*(p=Math.max(p,125)),M=c-100+1.35*p,c=r=c+25),document.selectedNodeId===t&&document.selectedConnectionChar===n&&(document.arrowCenter={x:o+20,y:c-63+23*H+p}),d.a.createElement("g",{key:e,type:"arrow",onMouseDown:function(){document.selectedNodeId=t,document.selectedConnectionChar=n}},d.a.createElement("path",{d:"M ".concat(o-4," ").concat(c-8*H," C ").concat(j,",").concat(P," ").concat(D,",").concat(M," ").concat(a," ").concat(r),style:{stroke:"#88C0D0",strokeWidth:5,pointerEvents:"none"},fill:"transparent"}),d.a.createElement("polygon",{points:"".concat(o,",").concat(c," ").concat(o-13.5,",").concat(c-11.9*H," ").concat(o+5.78,",").concat(c-17.1*H),fill:"#88C0D0"}),m&&d.a.createElement("g",{type:"arrow",onDoubleClick:function(){f(t,n)},onMouseDown:function(e){0===e.button&&document.addEventListener("mousemove",x)}},d.a.createElement("rect",{x:o-7,y:c-73+23*H+p,height:"20",width:"54",rx:"5",ry:"5",fill:"#88C0D0"}),d.a.createElement("text",{x:o-3,y:c-58+23*H+p,fontSize:"15",fontFamily:"mononokiRegular",fill:"#2E3440",xmlSpace:"preserve"},m)))}function b(e){document.arrowPos={node:document.selectedNodeId,x1:document.nodes[document.selectedNodeId].x+document.viewportPos.x,y1:document.nodes[document.selectedNodeId].y+document.viewportPos.y,x2:e.pageX,y2:e.pageY},document.update()}function x(e){var t=document.nodes[document.selectedNodeId],n=document.nodes[document.nodes[document.selectedNodeId].connections[document.selectedConnectionChar].node],o=t.x+document.viewportPos.x,c=t.y+document.viewportPos.y,d=n.x+document.viewportPos.x,a=n.y+document.viewportPos.y;document.selectedNodeId===document.nodes[document.selectedNodeId].connections[document.selectedConnectionChar].node?document.nodes[document.selectedNodeId].connections[document.selectedConnectionChar].arrowCurve=e.pageY-c+64:document.nodes[document.selectedNodeId].connections[document.selectedConnectionChar].arrowCurve=Math.round(((a-c)*e.pageX-(d-o)*e.pageY+d*c-o*a)/Math.sqrt(Math.pow(a-c,2)+Math.pow(d-o,2))),document.update()}function N(e){document.nodes[document.selectedNodeId].x=e.pageX-document.nodeOffset.x,document.nodes[document.selectedNodeId].y=e.pageY-document.nodeOffset.y,document.update()}function I(e,t){for(var n=0;n<Object.keys(document.nodes).length&&Object.keys(document.nodes).includes("q"+n);n++);var o="q"+n;return document.nodes[o]={x:e,y:t,type:"normal",connections:{}},document.update(),o}function k(){for(;-document.tapePos<document.tapeHeight*(document.firstKey+1);)document.firstKey--,document.initChars[document.firstKey]="",document.chars[document.firstKey]="";for(;window.innerWidth>document.tapeHeight*document.lastKey+document.tapePos;)document.lastKey++,document.initChars[document.lastKey]="",document.chars[document.lastKey]=""}function S(e){document.tapePos=e.pageX-document.tapeMouseDownHandler,k(),document.update()}function H(e){0===e.button&&(document.tapeMouseDownHandler=e.pageX-document.tapePos,document.addEventListener("mousemove",S))}function P(){for(var e in document.stalled=!0,document.nodes[document.state].connections)if(e===document.chars[document.focusedCharId]){document.stalled=!1;var t=document.nodes[document.state].connections[e];document.chars[document.focusedCharId]=t.newChar;try{document.querySelector("#tape input[num='"+document.focusedCharId+"']").value=t.newChar}catch(n){}"L"===t.move?document.focusedCharId=document.focusedCharId-1:"R"===t.move&&(document.focusedCharId=document.focusedCharId+1),document.tapePos=window.innerWidth/2-document.tapeHeight/2-document.focusedCharId*document.tapeHeight,k(),document.state=t.node,document.update();break}document.update()}function M(){document.nodes[document.startState]&&(document.state=document.startState,document.tapePos=window.innerWidth/2-document.tapeHeight/2-document.focusedCharId*document.tapeHeight,k(),document.update(),setTimeout((function(){document.running=!0,document.update()}),1),document.chars=JSON.parse(JSON.stringify(document.initChars)),o=setInterval(P,1e3/document.speed))}function j(){clearInterval(o),document.running=!1,document.stalled=!1,document.focusedCharId=document.startCharId,document.state=document.startState;var e=!0,t=!1,n=void 0;try{for(var c,d=document.querySelectorAll("#tape input")[Symbol.iterator]();!(e=(c=d.next()).done);e=!0){var a=c.value;a.value=document.initChars[a.getAttribute("num")]}}catch(r){t=!0,n=r}finally{try{e||null==d.return||d.return()}finally{if(t)throw n}}document.tapePos=window.innerWidth/2-document.tapeHeight/2-document.focusedCharId*document.tapeHeight,k(),document.update()}function D(e){document.speed=e,document.update(),document.running&&(clearInterval(o),o=setInterval(P,1e3/document.speed))}function L(e){try{if("string"!==typeof(e=JSON.parse(e)).startState||"string"!==typeof e.tape.string||"number"!==typeof e.tape.startPos)throw TypeError;document.startState=e.startState,document.state=document.startState,document.nodes=e.nodes,document.initChars={},document.firstKey=-e.tape.startPos,document.firstTapePos=document.firstKey;for(var t=0;t<e.tape.string.length;t++)document.initChars[t+document.firstTapePos]=" "===e.tape.string[t]?"":e.tape.string[t];document.lastKey=t-1+document.firstTapePos,document.lastTapePos=document.lastKey,document.startCharId=0,document.focusedCharId=document.startCharId,k();var n=!0,o=!1,c=void 0;try{for(var d,a=document.querySelectorAll("#tape input")[Symbol.iterator]();!(n=(d=a.next()).done);n=!0){var r=d.value;r.value=document.initChars[r.getAttribute("num")]}}catch(u){o=!0,c=u}finally{try{n||null==a.return||a.return()}finally{if(o)throw c}}}catch(m){document.firstUpdate?(window.localStorage.removeItem("json"),R()):L(window.localStorage.getItem("json"))}document.update()}function O(){for(var e="",t=document.firstTapePos;t<=document.lastTapePos;t++)e+=""===document.initChars[t]?" ":document.initChars[t];var n=JSON.stringify({startState:document.startState,nodes:document.nodes,tape:{string:e,startPos:-document.firstTapePos+document.startCharId}},null,2);try{document.freeEdit||(document.getElementById("json").value=n)}catch(o){}return n}function A(){var e=window.innerWidth/2,t=window.innerWidth/2,n=(window.innerHeight-document.tapeHeight)/2,o=(window.innerHeight-document.tapeHeight)/2;for(var c in console.log(document.nodes),document.nodes)document.nodes[c].x<e&&(e=document.nodes[c].x),document.nodes[c].x>t&&(t=document.nodes[c].x),document.nodes[c].y<n&&(n=document.nodes[c].y),document.nodes[c].y>o&&(o=document.nodes[c].y);console.log(e,t),document.viewportPos={x:window.innerWidth/2-(e+t)/2,y:(window.innerHeight-document.tapeHeight)/2-(n+o)/2},document.update()}function q(e){document.viewportPos.x=e.pageX-document.offset.x,document.viewportPos.y=e.pageY-document.offset.y,document.update()}function T(e,t){e instanceof Blob||(e=new Blob([e],{type:"application/json"}));var n=new FileReader;n.addEventListener("load",(function(e){t(e.target.result)})),n.readAsBinaryString(e)}function R(){document.tempNode="",document.startCharId=0,document.startState="q0",document.state="q0",document.draggingNode=!1,document.draggingArrow=!1,document.editingConnection=!1,document.showContextMenu=!1,document.focusedCharId=document.startCharId,document.state=document.startState,document.running=!1,document.firstTapePos=0,document.lastTapePos=0,document.selectedConnectionChar="temp",document.freeEdit=!1,document.speed=1,document.viewportPos={x:0,y:0},window.localStorage.getItem("json-pane")||window.localStorage.setItem("json-pane",window.innerWidth>1e3?"show":"hide"),window.localStorage.getItem("help-pane")||window.localStorage.setItem("help-pane","show"),document.tapePos=window.innerWidth/2-document.tapeHeight/2-document.focusedCharId*document.tapeHeight,document.nodes={q0:{x:Math.round(window.innerWidth/2),y:Math.round((window.innerHeight-document.tapeHeight)/2),type:"normal",connections:{}}},document.initChars={},document.firstKey=0;for(var e=Math.floor(-window.innerWidth/2/document.tapeHeight);e<2+window.innerWidth/2/document.tapeHeight;e++)void 0===document.initChars[e]&&(document.initChars[e]="");document.lastKey=e-1,document.chars={}}var B=function(e){function t(e){var n;return Object(u.a)(this,t),n=Object(i.a)(this,Object(s.a)(t).call(this,e)),document.update=function(){n.forceUpdate()},n.mouseUpHandler=n.mouseUpHandler.bind(Object(l.a)(n)),n.mouseDownHandler=n.mouseDownHandler.bind(Object(l.a)(n)),n.keyDownHandler=n.keyDownHandler.bind(Object(l.a)(n)),n.contextMenuHandler=n.contextMenuHandler.bind(Object(l.a)(n)),n.svgMouseDownHandler=n.svgMouseDownHandler.bind(Object(l.a)(n)),document.nodeRadius=25,document.arrowPos={x1:0,y1:0,x2:0,y2:0},document.contextMenu={x:0,y:0,options:[]},document.tapeHeight=100,document.firstUpdate=!0,R(),window.localStorage.getItem("viewport-pos")&&(document.viewportPos=JSON.parse(window.localStorage.getItem("viewport-pos"))),n}return Object(p.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.keyDownHandler),window.addEventListener("resize",(function(){document.tapePos=window.innerWidth/2-document.tapeHeight/2-document.focusedCharId*document.tapeHeight,window.innerWidth<1e3&&window.localStorage.setItem("json-pane","hide"),k(),document.update()})),document.addEventListener("mouseup",(function(){document.removeEventListener("mousemove",S)})),document.addEventListener("mousedown",this.mouseDownHandler),document.addEventListener("mouseup",this.mouseUpHandler),document.addEventListener("contextmenu",this.contextMenuHandler),window.addEventListener("beforeunload",(function(){window.localStorage.setItem("viewport-pos",JSON.stringify(document.viewportPos))})),window.localStorage.getItem("json")&&L(window.localStorage.getItem("json"))}},{key:"mouseDownHandler",value:function(e){"context-menu"!==e.target.parentElement.id&&(document.showContextMenu=!1),document.editingConnection&&"connection-input"!==e.target.className&&"connection-box"!==e.target.id&&(v()?document.editingConnection=!1:y());try{"node"===e.target.parentElement.getAttribute("type")&&function(e){0===e.button&&e.target.parentElement.getAttribute("id")!==document.tempNode&&(document.selectedNodeId=e.target.parentElement.getAttribute("id"),document.nodeOffset={x:e.pageX-document.nodes[document.selectedNodeId].x,y:e.pageY-document.nodes[document.selectedNodeId].y},e.shiftKey?(document.draggingArrow=!0,document.addEventListener("mousemove",b)):(document.draggingNode=!0,document.addEventListener("mousemove",N)))}(e)}catch(t){}"svg"===e.target.tagName&&this.svgMouseDownHandler(e),document.tempNode="",document.update()}},{key:"mouseUpHandler",value:function(e){if(document.removeEventListener("mousemove",x),document.removeEventListener("mousemove",q),document.draggingNode&&document.removeEventListener("mousemove",N),document.draggingArrow)if(document.removeEventListener("mousemove",b),"node"===e.target.parentElement.getAttribute("type"))w(e.target.parentElement.getAttribute("id"));else{var t=I(e.pageX-document.viewportPos.x,e.pageY-document.viewportPos.y);document.tempNode=t,w(t)}document.draggingNode=!1,document.draggingArrow=!1,document.arrowPos={x1:0,y1:0,x2:0,y2:0},document.update()}},{key:"svgMouseDownHandler",value:function(e){0===e.button&&(document.offset={x:e.pageX-document.viewportPos.x,y:e.pageY-document.viewportPos.y},document.addEventListener("mousemove",q))}},{key:"keyDownHandler",value:function(e){document.editingConnection&&("Enter"===e.key&&v()?(document.editingConnection=!1,document.update()):"Escape"===e.key&&y()),document.freeEdit&&"Escape"===e.key&&(document.freeEdit=!1,document.update()),"INPUT"!==document.activeElement.tagName&&"TEXTAREA"!==document.activeElement.tagName&&("j"===e.key&&(window.localStorage.setItem("json-pane","show"===window.localStorage.getItem("json-pane")?"hide":"show"),document.freeEdit=!1,document.update()),"h"===e.key&&(window.localStorage.setItem("help-pane","show"===window.localStorage.getItem("help-pane")?"hide":"show"),document.update())," "===e.key&&(document.running?j():M()),document.running&&"Escape"===e.key&&j(),e.ctrlKey&&"c"===e.key&&navigator.clipboard.writeText(document.getElementById("json").value)),e.ctrlKey&&"s"===e.key&&(e.preventDefault(),document.freeEdit=!1,L(document.getElementById("json").value))}},{key:"contextMenuHandler",value:function(e){document.contextMenu={x:e.pageX,y:e.pageY,options:[]};try{"svg"===e.target.tagName?(e.preventDefault(),document.showContextMenu=!0,document.contextMenu.options=[d.a.createElement("p",{key:"0",onClick:function(){I(document.contextMenu.x-document.viewportPos.x,document.contextMenu.y-document.viewportPos.y)}},"Add node")]):"arrow"===e.target.parentElement.getAttribute("type")?(e.preventDefault(),document.showContextMenu=!0,document.contextMenu.options=[d.a.createElement("p",{key:"0",onClick:function(){f(document.selectedNodeId,document.selectedConnectionChar)}},"Edit connection"),d.a.createElement("p",{key:"1",onClick:function(){C(document.selectedNodeId,document.selectedConnectionChar)}},"Remove connection")]):"node"===e.target.parentElement.getAttribute("type")&&(e.preventDefault(),document.showContextMenu=!0,document.contextMenu.options=[d.a.createElement("p",{key:"0",onClick:function(){!function(e){for(var t in document.nodes)for(var n in document.nodes[t].connections)document.nodes[t].connections[n].node===e&&C(t,n);delete document.nodes[e]}(document.selectedNodeId)}},"Remove node"),document.startState!==document.selectedNodeId&&d.a.createElement("p",{key:"1",onClick:function(){document.startState=document.state=document.selectedNodeId}},"Define as start state"),"normal"!==document.nodes[document.selectedNodeId].type&&d.a.createElement("p",{key:"2",onClick:function(){document.nodes[document.selectedNodeId].type="normal"}},"Define as normal state"),"accept"!==document.nodes[document.selectedNodeId].type&&d.a.createElement("p",{key:"3",onClick:function(){document.nodes[document.selectedNodeId].type="accept"}},"Define as accept state"),"reject"!==document.nodes[document.selectedNodeId].type&&d.a.createElement("p",{key:"4",onClick:function(){document.nodes[document.selectedNodeId].type="reject"}},"Define as reject state")])}catch(t){}document.update()}},{key:"render",value:function(){var e=d.a.createElement("div",{className:"App"},d.a.createElement("header",{className:"App-header"}));try{e=d.a.createElement("div",{className:"App"},d.a.createElement("header",{className:"App-header"},d.a.createElement("svg",{style:{height:"100%",width:"100%",position:"absolute"}},Object.keys(document.nodes).map((function(e){return Object.keys(document.nodes[e].connections).map((function(t,n){if(t.length>1&&"temp"!==t||"string"!==typeof document.nodes[e].connections[t].newChar||document.nodes[e].connections[t].newChar.length>1||"string"!==typeof document.nodes[e].connections[t].move||"number"!==typeof document.nodes[e].connections[t].arrowCurve||!["L","R","S"].includes(document.nodes[e].connections[t].move))throw TypeError;return E(n,e,t,document.nodes[e].x+document.viewportPos.x,document.nodes[e].y+document.viewportPos.y,document.nodes[document.nodes[e].connections[t].node].x+document.viewportPos.x,document.nodes[document.nodes[e].connections[t].node].y+document.viewportPos.y,30,"temp"===t?"":(t||" ")+"\u2192"+(document.nodes[e].connections[t].newChar?document.nodes[e].connections[t].newChar:" ")+","+document.nodes[e].connections[t].move)}))})),document.draggingArrow&&E("user","","",document.arrowPos.x1,document.arrowPos.y1,document.arrowPos.x2,document.arrowPos.y2),Object.keys(document.nodes).map((function(e){return function(e){if("number"!==typeof document.nodes[e].x||"number"!==typeof document.nodes[e].y)throw TypeError;if(!["normal","accept","reject"].includes(document.nodes[e].type))throw TypeError;return d.a.createElement("g",{key:e,id:e,type:"node",onMouseDown:function(){document.selectedNodeId=e,document.selectedConnectionChar="temp"}},d.a.createElement("circle",{cx:document.nodes[e].x+document.viewportPos.x,cy:document.nodes[e].y+document.viewportPos.y,r:document.nodeRadius,fill:"accept"===document.nodes[e].type&&(document.state===e?"#e3ffcc":"#A3BE8C")||"reject"===document.nodes[e].type&&(document.state===e?"#ffb3ba":"#BF616A")||(document.state===e?"#E5E9F0":"#88C0D0")}),d.a.createElement("text",{x:document.nodes[e].x+document.viewportPos.x,y:document.nodes[e].y+document.viewportPos.y+6,textAnchor:"middle",fontSize:"20",fontFamily:"mononokiRegular",fill:"#2E3440"},e))}(e)}))),d.a.createElement("div",{className:"topbar"},d.a.createElement("div",{className:"toolbar-button",style:{width:50,height:50},onClick:function(){window.localStorage.setItem("help-pane","show"===window.localStorage.getItem("help-pane")?"hide":"show"),document.update()}},d.a.createElement(h.a,{icon:g.i}),d.a.createElement("span",{className:"tooltip"},"Help")),d.a.createElement("div",{className:"toolbar-button",style:{width:50,height:50},onClick:function(){window.open("https://github.com/rodrigohpalmeirim/automaton-simulator/issues","_blank")}},d.a.createElement(h.a,{icon:g.a}),d.a.createElement("span",{className:"tooltip"},"Report issues")),d.a.createElement("div",{style:{flexGrow:1}}),d.a.createElement("div",{className:"toolbar-button",style:{width:50,height:50}},d.a.createElement("input",{type:"file",accept:"application/json",text:"",style:{position:"absolute",width:50,height:50,marginLeft:-10,opacity:0,cursor:"pointer"},onChange:function(e){!function(e){e.target.files&&e.target.files[0]&&(T(e.target.files[0],(function(e){L(e),A()})),e.target.value="")}(e)}}),d.a.createElement(h.a,{icon:g.g}),d.a.createElement("span",{className:"tooltip",style:{transform:"translate(calc(-50% - 10px), 200%)"}},"Import")),d.a.createElement("div",{className:"toolbar-button",style:{width:50,height:50},onClick:function(){return function(){var e=new Blob([window.localStorage.getItem("json")],{type:"application/json"}),t=document.createElement("a"),n=URL.createObjectURL(e);t.href=n,t.download="automaton.json",document.body.appendChild(t),t.click(),setTimeout((function(){document.body.removeChild(t),window.URL.revokeObjectURL(n)}),0)}()}},d.a.createElement(h.a,{icon:g.f}),d.a.createElement("span",{className:"tooltip",style:{transform:"translate(calc(-50% - 22px), 200%)"}},"Export"))),d.a.createElement("div",{id:"tape",style:{height:document.tapeHeight},onMouseDown:H},Object.keys(document.initChars).map((function(e){if(-document.tapePos<document.tapeHeight*(Number(e)+2)&&window.innerWidth>document.tapeHeight*(Number(e)-1)+document.tapePos)return d.a.createElement("input",{key:e,num:e,style:{height:document.tapeHeight,width:document.tapeHeight,backgroundColor:e%2?"#434C5E":"#3B4252",position:"absolute",bottom:0,left:e*document.tapeHeight+document.tapePos,fontSize:document.tapeHeight/2,transition:document.running?.5/document.speed+"s":"0s"},maxLength:"1",onInput:function(t){" "===t.target.value&&(t.target.value="\u2423"),document.initChars[e]=t.target.value,document.firstTapePos=Math.min(e,document.firstTapePos),document.lastTapePos=Math.max(e,document.lastTapePos),O()},defaultValue:document.running?document.chars[e]:document.initChars[e]})})),d.a.createElement("div",{id:"cursor",style:{height:document.tapeHeight-20,width:document.tapeHeight-20,borderColor:document.stalled?("accept"===document.nodes[document.state].type?"#A3BE8C":"reject"===document.nodes[document.state].type&&"#BF616A")||"#E5E9F0":"#88C0D0",left:document.running?window.innerWidth/2-document.tapeHeight/2:document.focusedCharId*document.tapeHeight+document.tapePos,transition:document.running?.5/document.speed+"s":"0s"}})),!document.running&&d.a.createElement("div",{className:"button",style:{bottom:document.tapeHeight+20},onClick:function(){return M()}},d.a.createElement("svg",{width:"100%",height:"100%"},d.a.createElement("polygon",{points:"12,10 30,20 12,30",fill:"#2E3440"}))),d.a.createElement("div",{id:"speed-controls",style:{bottom:document.tapeHeight+20,zIndex:document.running?2:0}},d.a.createElement("div",{style:.5===document.speed?{backgroundColor:"#88C0D0",color:"#2E3440"}:{},onClick:function(){D(.5)}},"\xd7\xbd"),d.a.createElement("div",{style:1===document.speed?{backgroundColor:"#88C0D0",color:"#2E3440"}:{},onClick:function(){D(1)}},"\xd71"),d.a.createElement("div",{style:2===document.speed?{backgroundColor:"#88C0D0",color:"#2E3440"}:{},onClick:function(){D(2)}},"\xd72"),d.a.createElement("div",{style:5===document.speed?{backgroundColor:"#88C0D0",color:"#2E3440"}:{},onClick:function(){D(5)}},"\xd75"),d.a.createElement("div",{style:document.speed===1/0?{backgroundColor:"#88C0D0",color:"#2E3440"}:{},onClick:function(){D(1/0)}},"\xd7\u221e")),document.editingConnection&&d.a.createElement("form",{id:"connection-box",style:{left:document.arrowCenter.x,top:document.arrowCenter.y}},d.a.createElement("input",{className:"connection-input",type:"text",name:"char",maxLength:"1",autoFocus:!0,onFocus:function(e){e.target.select()},onInput:function(e){e.target.nextElementSibling.focus()," "===e.target.value&&(e.target.value="\u2423")},defaultValue:"temp"!==document.selectedConnectionChar?document.selectedConnectionChar:""})," \u2192 ",d.a.createElement("input",{className:"connection-input",type:"text",name:"newChar",maxLength:"1",onFocus:function(e){e.target.select()},defaultValue:"temp"!==document.selectedConnectionChar?document.nodes[document.selectedNodeId].connections[document.selectedConnectionChar].newChar:"",onInput:function(e){e.target.nextElementSibling.focus()," "===e.target.value&&(e.target.value="\u2423")}}),", ",d.a.createElement("input",{className:"connection-input",type:"text",name:"move",maxLength:"1",onFocus:function(e){e.target.select()},defaultValue:"temp"!==document.selectedConnectionChar?document.nodes[document.selectedNodeId].connections[document.selectedConnectionChar].move:""})),d.a.createElement("div",{className:"pane",style:{height:Math.min(420,window.innerHeight-120-document.tapeHeight),width:350,top:100,left:"show"===window.localStorage.getItem("help-pane")?20:-400}},d.a.createElement("div",{className:"toolbar"},d.a.createElement("span",{style:{flexGrow:1}},"Help"),d.a.createElement("div",{className:"toolbar-button",onClick:function(){window.localStorage.setItem("help-pane","hide"),document.update()}},d.a.createElement(h.a,{icon:g.j}))),d.a.createElement("div",{className:"pane-content"},d.a.createElement("p",{style:{marginTop:0}},"Create connections by pressing ",d.a.createElement("span",{className:"key"},"Shift")," and dragging from a node."),d.a.createElement("p",null,"Connections hold 3 values:",d.a.createElement("br",null),"- the current character",d.a.createElement("br",null),"- the replacement character",d.a.createElement("br",null),"- the movement instruction"),d.a.createElement("p",null,"The movement instructions are:",d.a.createElement("br",null),"- 'R' (right)",d.a.createElement("br",null),"- 'L' (left)",d.a.createElement("br",null),"- 'S' (stay)"),d.a.createElement("p",null,"Currently, there cannot be two connections with the same character comming from the same node."),d.a.createElement("p",null,"Learn about Turing machines ",d.a.createElement("a",{className:"link",href:"https://simple.m.wikipedia.org/wiki/Turing_machine",target:"_blank",rel:"noopener noreferrer"},"here"),"."),d.a.createElement("p",null,"Curve the arrows by dragging the label."),d.a.createElement("p",null,"On the right side there is the JSON pane which you can toggle by pressing ",d.a.createElement("span",{className:"key"},"J"),". It contains all the information that defines the automaton and the tape. Unless the 'free edit' mode is enabled, it ignores any input that would break the JSON or the automaton."),d.a.createElement("p",null,"Start the simulation by pressing ",d.a.createElement("span",{className:"key"},"Space")," and control its speed using the buttons on the bottom right corner."),d.a.createElement("p",null,"Here are some examples:",d.a.createElement("br",null),"- ",d.a.createElement("span",{className:"link",onClick:function(){return T('{\n  "startState": "q0",\n  "nodes": {\n      "q0": {\n      "x": 500,\n      "y": 350,\n      "type": "normal",\n      "connections": {\n          "": {\n          "node": "q0",\n          "newChar": "",\n          "move": "L",\n          "arrowCurve": 0\n          },\n          "|": {\n          "node": "q1",\n          "newChar": "|",\n          "move": "R",\n          "arrowCurve": 25\n          }\n      }\n      },\n      "q1": {\n      "x": 750,\n      "y": 350,\n      "type": "normal",\n      "connections": {\n          "|": {\n          "node": "q0",\n          "newChar": "|",\n          "move": "L",\n          "arrowCurve": 25\n          },\n          "": {\n          "node": "q1",\n          "newChar": "",\n          "move": "R",\n          "arrowCurve": 0\n          }\n      }\n      }\n  },\n  "tape": {\n      "string": "|     |",\n      "startPos": 3\n  }\n}',(function(e){L(e),A()}))}},"Bouncer"),d.a.createElement("br",null),"- ",d.a.createElement("span",{className:"link",onClick:function(){return T('{\n  "startState": "q0",\n  "nodes": {\n    "q0": {\n      "x": 500,\n      "y": 350,\n      "type": "normal",\n      "connections": {\n        "0": {\n          "node": "q1",\n          "newChar": "1",\n          "move": "R",\n          "arrowCurve": 50\n        },\n        "1": {\n          "node": "q0",\n          "newChar": "0",\n          "move": "L",\n          "arrowCurve": 0\n        },\n        "": {\n          "node": "q1",\n          "newChar": "1",\n          "move": "R",\n          "arrowCurve": 25\n        }\n      }\n    },\n    "q1": {\n      "x": 800,\n      "y": 350,\n      "type": "normal",\n      "connections": {\n        "0": {\n          "node": "q1",\n          "newChar": "0",\n          "move": "R",\n          "arrowCurve": 125\n        },\n        "1": {\n          "node": "q1",\n          "newChar": "1",\n          "move": "R",\n          "arrowCurve": 0\n        },\n        "": {\n          "node": "q0",\n          "newChar": "",\n          "move": "L",\n          "arrowCurve": 25\n        }\n      }\n    }\n  },\n  "tape": {\n    "string": "   ",\n    "startPos": 0\n  }\n}',(function(e){L(e),A()}))}},"Binary counter")))),d.a.createElement("div",{className:"blocker",style:{opacity:document.freeEdit?.5:0,pointerEvents:document.freeEdit?"auto":"none"}}),d.a.createElement("div",{className:"pane",style:{top:100,height:window.innerHeight-document.tapeHeight-200,right:"show"===window.localStorage.getItem("json-pane")?20:-360}},d.a.createElement("div",{className:"toolbar"},"show"===window.localStorage.getItem("json-pane")?d.a.createElement("div",{className:"toolbar-button",onClick:function(){window.localStorage.setItem("json-pane","hide"),document.freeEdit=!1,document.update()}},d.a.createElement(h.a,{icon:g.d})):d.a.createElement("div",{className:"toolbar-button",onClick:function(){window.localStorage.setItem("json-pane","show"),document.update()}},d.a.createElement(h.a,{icon:g.c})),d.a.createElement("span",{style:{flexGrow:1}},"JSON"),document.freeEdit?d.a.createElement("div",{className:"toolbar-button",onClick:function(){document.freeEdit=!1,document.update()}},d.a.createElement(h.a,{icon:g.j}),d.a.createElement("span",{className:"tooltip"},"Cancel")):d.a.createElement("div",{className:"toolbar-button",onClick:function(){document.freeEdit=!0,document.update()}},d.a.createElement(h.a,{icon:g.h}),d.a.createElement("span",{className:"tooltip"},"Free edit")),document.freeEdit?d.a.createElement("div",{className:"toolbar-button",onClick:function(){document.freeEdit=!1,L(document.getElementById("json").value)}},d.a.createElement(h.a,{icon:g.b}),d.a.createElement("span",{className:"tooltip"},"Apply")):d.a.createElement("div",{className:"toolbar-button",onClick:function(){navigator.clipboard.writeText(document.getElementById("json").value)}},d.a.createElement(h.a,{icon:g.e}),d.a.createElement("span",{className:"tooltip"},"Copy"))),d.a.createElement("textarea",{className:"pane-content",id:"json",onInput:function(){document.freeEdit||L(document.getElementById("json").value)},defaultValue:O(),spellCheck:"false"})),d.a.createElement("div",{className:"blocker",style:{opacity:0,pointerEvents:document.running?"auto":"none"}}),document.running&&d.a.createElement("div",{className:"button",style:{bottom:document.tapeHeight+20},onClick:function(){return j()}},d.a.createElement("svg",{width:"100%",height:"100%"},d.a.createElement("polygon",{points:"12,12 28,12 28,28 12,28",fill:"#2E3440"}))),document.showContextMenu&&d.a.createElement("div",{style:{left:document.contextMenu.x,top:document.contextMenu.y},id:"context-menu",onClick:function(){document.showContextMenu=!1,document.update()}},document.contextMenu.options.map((function(e){return e})))))}catch(t){document.firstUpdate?(window.localStorage.removeItem("json"),R(),document.update()):L(window.localStorage.getItem("json"))}return e}},{key:"componentDidUpdate",value:function(){window.localStorage.setItem("json",O()),document.firstUpdate=!1}}]),t}(c.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(d.a.createElement(B,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[14,1,2]]]);
//# sourceMappingURL=main.bbecc206.chunk.js.map